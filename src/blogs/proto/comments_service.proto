syntax = "proto3";

import "google/protobuf/timestamp.proto";

option go_package = "proto/comments";

service CommentsService {
  rpc GetCommentById(GetCommentByIdRequest) returns (GetCommentByIdResponse) {}
  rpc GetAllComments(GetAllCommentsRequest) returns (GetAllCommentsResponse) {}
  rpc GetCommentByBlogId(GetCommentByBlogIdRequest) returns (GetCommentByBlogIdResponse) {}
  rpc CreateComment(CreateCommentRequest) returns (CreateCommentResponse) {}
  rpc DeleteComment(DeleteCommentRequest) returns (DeleteCommentResponse) {}
  rpc UpdateComment(UpdateCommentRequest) returns (UpdateCommentResponse) {}
}

message Comment {
  int32 ID = 1;
  int32 AuthorId = 2;
  int32 BlogId = 3;
  string Text = 4;
  google.protobuf.Timestamp CreatedAt = 5;
  google.protobuf.Timestamp UpdatedAt = 6;
}

message GetCommentByIdRequest {
  string ID = 1;
}

message GetCommentByIdResponse {
  Comment comment = 1;
}

message GetAllCommentsRequest {
}

message GetAllCommentsResponse {
  repeated Comment comments = 1;
}

message GetCommentByBlogIdRequest {
  string BlogId = 1;
  int32 Page = 2;
  int32 PageSize = 3;
}

message GetCommentByBlogIdResponse {
  repeated Comment comments = 1;
}

message CreateCommentRequest {
  Comment comment = 1;
}

message CreateCommentResponse {
}

message DeleteCommentRequest {
  string ID = 1;
}

message DeleteCommentResponse {
}

message UpdateCommentRequest {
  Comment comment = 1;
}

message UpdateCommentResponse {
}
